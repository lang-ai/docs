<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <title>API Reference</title>

    <style>
      .highlight table td {
        padding: 5px;
      }
      .highlight table pre {
        margin: 0;
      }
      .highlight,
      .highlight .w {
        color: #f8f8f2;
        background-color: #272822;
      }
      .highlight .err {
        color: #272822;
        background-color: #f92672;
      }
      .highlight .c,
      .highlight .cd,
      .highlight .cm,
      .highlight .c1,
      .highlight .cs {
        color: #75715e;
      }
      .highlight .cp {
        color: #f4bf75;
      }
      .highlight .nt {
        color: #f4bf75;
      }
      .highlight .o,
      .highlight .ow {
        color: #f8f8f2;
      }
      .highlight .p,
      .highlight .pi {
        color: #f8f8f2;
      }
      .highlight .gi {
        color: #a6e22e;
      }
      .highlight .gd {
        color: #f92672;
      }
      .highlight .gh {
        color: #66d9ef;
        background-color: #272822;
        font-weight: bold;
      }
      .highlight .k,
      .highlight .kn,
      .highlight .kp,
      .highlight .kr,
      .highlight .kv {
        color: #ae81ff;
      }
      .highlight .kc {
        color: #fd971f;
      }
      .highlight .kt {
        color: #fd971f;
      }
      .highlight .kd {
        color: #fd971f;
      }
      .highlight .s,
      .highlight .sb,
      .highlight .sc,
      .highlight .sd,
      .highlight .s2,
      .highlight .sh,
      .highlight .sx,
      .highlight .s1 {
        color: #a6e22e;
      }
      .highlight .sr {
        color: #a1efe4;
      }
      .highlight .si {
        color: #cc6633;
      }
      .highlight .se {
        color: #cc6633;
      }
      .highlight .nn {
        color: #f4bf75;
      }
      .highlight .nc {
        color: #f4bf75;
      }
      .highlight .no {
        color: #f4bf75;
      }
      .highlight .na {
        color: #66d9ef;
      }
      .highlight .m,
      .highlight .mf,
      .highlight .mh,
      .highlight .mi,
      .highlight .il,
      .highlight .mo,
      .highlight .mb,
      .highlight .mx {
        color: #a6e22e;
      }
      .highlight .ss {
        color: #a6e22e;
      }
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
    <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="http://lang.ai" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a href="http://lang.ai" title="Go to Lang.AI website"
        ><img src="images/logo-lang.svg" class="logo" alt="Logo"
      /></a>
      <div class="search">
        <input
          type="text"
          class="search"
          id="input-search"
          placeholder="Search"
        />
      </div>
      <ul class="search-results"></ul>
      <div id="toc"></div>
      <ul class="toc-footer">
        <li><a href="https://help.lang.ai">Help Center</a></li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="workflow">Workflow</h1>

        <p>
          Lang.ai algorithm adapts to any language, industry or business case
          given the adequate training data. The typical workflow for using
          lang.ai API is the following:
        </p>

        <ul>
          <li>
            In order to build a custom classifier you will need to create a project passing a dataset. This can be any collection of customer interactions or any
            other type of text.
          </li>
          <li>
            The algorithm will automatically extract intents and features that
            that you can group in tags inside your project section.
          </li>
          <li>
            Once the project is successfully created, the lang.ai API can be used
            in real time to analyze and save new documents (e.g. support tickets, chatbot messages, etc.) in your project.
          </li>
        </ul>

        <h1 id="the-api">The API</h1>

        <p>
          The API is organized around REST. It has predictable,
          resource-oriented URLs, and uses HTTP response codes to indicate API
          errors. We use built-in HTTP features, like HTTP authentication and
          HTTP verbs, which are understood by off-the-shelf HTTP clients. JSON
          is returned by all API responses, including errors, although the API
          libraries convert responses to appropriate language-specific objects.
        </p>

        <p>The service is available at "https://company.lang.ai/api/v1". Replace the example domain with the one you are using in your Lang.ai instance.</p>

        <h1 id="authentication">Authentication</h1>
        <pre
          class="highlight shell"
        ><code>curl https://company.lang.ai/api/v1/analyze <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer YOUR_TOKEN"</span> <span class="se">\</span>
  -H <span class="s2">"Content-Type: application/json"</span> <span class="se">\</span>
  -X POST -d <span class="s1">'{"text": "The Text", "projectId": "YOUR_PROJECT_ID"}'</span>
</code></pre>
        <p>
          Authenticate your account when using the API by including your secret
          API token in every request. You can create a new API token from the Settings section in your Lang.ai instance. Do not share your
          secret API tokens in publicly accessible areas such GitHub,
          client-side code, and so forth.
        </p>

        <p>
          Keep in mind that generating a new token will invalidate the previously issued ones.
        </p>

        <p>Every request must be authenticated with the your API token.</p>

        <h1 id="rate-limit">Rate Limit</h1>

        <p>
          To avoid abuse and ensure that the system remains online for every
          user, every API request will need to provide valid credentials and the
          requests can be rate limited if they exceed the limitations.
        </p>

        <h1 id="analyze">Analyze documents</h1>

        <p>
          Returns the classification for a given document and the specified
          project.
        </p>

        <h3 id="http-request">HTTP Request</h3>

        <p>
          <code class="prettyprint">POST https://company.lang.ai/api/v1/analyze</code>
        </p>

        <h3 id="request-body">Request Body</h3>
        <pre
          class="highlight json"
        ><code><span class="p">{</span><span class="w">
  </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The text to be analyzed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"projectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your project id"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Required</th>
              <th>Default</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>text</td>
              <td>true</td>
              <td>-</td>
              <td>string</td>
              <td>The text to be classified.</td>
            </tr>
            <tr>
              <td>projectId</td>
              <td>true</td>
              <td>-</td>
              <td>string</td>
              <td>The project to be used to classify the text.</td>
            </tr>
          </tbody>
        </table>

        <h3 id="response-body">Response Body</h3>

        <p>
          The response returns a list of zero, one or more <a href="https://help.lang.ai/en/articles/3175538-using-tags" title="Learn more about Tags">tags</a> and <a href="https://help.lang.ai/en/collections/1565410-technology#intents-and-features" title="Learn more about intents">intents</a>. Each intent
          contains the following fields:
        </p>

        <table>
          <thead>
            <tr>
              <th>Field</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>name</td>
              <td>string</td>
              <td>The name of the intent.</td>
            </tr>
            <tr>
              <td>features</td>
              <td>string[]</td>
              <td>
                The list of features. The sign &ldquo;&gt;&rdquo; indicates a
                second-level feature.
              </td>
            </tr>
          </tbody>
        </table>
        <pre
          class="highlight json"
        ><code><span class="p">{</span><span class="w">
  </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Tag 1"</span><span class="p">,</span><span class="w"> </span><span
    class="s2">"Tag 2"</span><span class="p">]</span><span class="w">
  <span class="s2">"intents"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"intent"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"feature"</span><span class="p">,</span><span class="w"> </span><span class="s2">"feature&gt;feature"</span><span class="p">],</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
        <h1 id="documents">Save documents</h1>

        <p>
          Saves a given document into the specified project. It supports passing
          metadata that can be later used in the project's <a href="https://help.lang.ai/en/articles/2724433-getting-started-with-dashboards" title="Learn more about Dashboards">Dashboard</a>. New metadata values passed via API will be available to use in the project's setup section.
        </p>

        <h3 id="http-request">HTTP Request</h3>

        <p>
          <code class="prettyprint">POST https://company.lang.ai/api/v1/documents</code>
        </p>

        <h3 id="request-body">Request Body</h3>
        <pre
          class="highlight json"
        ><code><span class="p">{</span><span class="w">
  </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The text to be analyzed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"projectId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your project id"</span><span class="p">,</span><span class="w">
  <span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="s2">{"key": "value"}</span><span class="w"></span><span class="p">,</span><span class="c"> // Optional</span>
  <span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-20-12"</span><span class="w"></span><span class="c"> // Optional</span>
<span class="p">}</span><span class="w">
</span></code></pre>
        <table>
          <thead>
            <tr>
              <th>Parameter</th>
              <th>Required</th>
              <th>Default</th>
              <th>Type</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>text</td>
              <td>true</td>
              <td>-</td>
              <td>string</td>
              <td>The text to be classified.</td>
            </tr>
            <tr>
              <td>projectId</td>
              <td>true</td>
              <td>-</td>
              <td>string</td>
              <td>The project to be used to classify the text.</td>
            </tr>
            <tr>
              <td>metadata</td>
              <td>false</td>
              <td>-</td>
              <td>object</td>
              <td>The metadata information of the document.</td>
            </tr>
            <tr>
              <td>date</td>
              <td>false</td>
              <td>now</td>
              <td>string</td>
              <td>The date of the document. It supports valid IS0 8601 dates. If not passed, the request time is used.</td>
            </tr>
          </tbody>
        </table>

        <h3 id="response-body">Response Body</h3>

        <p>
          The request returns a 201 HTTP code when the document is saved
          successfully.
        </p>

        <h1 id="errors">Errors</h1>

        <p>
          If the request succeeded, the response status will be 200 OK.
          Otherwise the response status will be 4xx or 5xx as described in the
          following table:
        </p>

        <table>
          <thead>
            <tr>
              <th>Error Code</th>
              <th>Meaning</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>400</td>
              <td>Bad request / Missing fields</td>
            </tr>
            <tr>
              <td>401</td>
              <td>Unauthorized</td>
            </tr>
            <tr>
              <td>404</td>
              <td>Project not found</td>
            </tr>
            <tr>
              <td>429</td>
              <td>Too many requests / Rate limited</td>
            </tr>
            <tr>
              <td>500</td>
              <td>Internal server error</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="dark-box"></div>
    </div>
  </body>
</html>
